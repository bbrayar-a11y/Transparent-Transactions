<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transparent Transactions - Dashboard</title>
    <meta name="description" content="Build trust through mutual consent in P2P financial relationships.">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192x192.png" type="image/png">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; background-color: #f4f7f6; }
        .container { max-width: 800px; margin: 20px auto; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0,0.1); }
        h1, h2 { color: #333; }
        .card { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px; text-align: center; }
        .nav { display: flex; justify-content: space-around; background-color: #007bff; padding: 10px; border-radius: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        .nav a { color: white; text-decoration: none; font-weight: bold; padding: 5px; }
        .trust-score { font-size: 2em; font-weight: bold; color: #28a745; }
        #user-referral-code { font-family: monospace; font-size: 1.2em; letter-spacing: 2px; color: #d63384; }
        .hidden { display: none; }
        .cta-button { font-size: 1.1em; padding: 15px 25px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Transparent Transactions</h1>
        <p>Welcome back, <span id="user-name">User</span>!</p>

        <!-- First-Time User View -->
        <div id="first-time-view">
            <div class="card">
                <h2>Welcome to Your Trust Network!</h2>
                <p>Your account is ready. The next step is to add people you know to start building your trusted financial history.</p>
                <button id="add-first-contact-btn" class="cta-button">Add Your First Contact</button>
            </div>
            <div class="card">
                <h2>Invite & Earn</h2>
                <p>Your Referral Code:</p>
                <h3 id="user-referral-code">Loading...</h3>
                <button id="copy-referral-link-btn">Copy Referral Link</button>
            </div>
            <div class="card">
                <h2>Explore</h2>
                <p>See how trust is built in our community.</p>
                <button id="view-reports-btn" class="cta-button">View Published Reports</button>
            </div>
        </div>

        <!-- Standard User View -->
        <div id="standard-view" class="hidden">
            <div class="card">
                <h2>Your Trust Score</h2>
                <div class="trust-score" id="trust-score">---</div>
            </div>
            <div class="card">
                <h2>Refer & Earn</h2>
                <p>Your Referral Code:</p>
                <h3 id="user-referral-code-std">Loading...</h3>
                <button id="copy-referral-link-btn-std">Copy Referral Link</button>
            </div>
            <div class="nav">
                <a href="#" id="contacts-link">Contacts</a>
                <a href="#" id="record-txn-link">Record Txn</a>
                <a href="reports.html">Get Report (â‚¹10)</a>
                <a href="#" id="logout-link">Logout</a>
            </div>
            <div id="main-content">
                <h2>Recent Activity</h2>
                <p>Your recent transactions and settlements will appear here.</p>
            </div>
        </div>
    </div>

    <script src="js/sw-register.js"></script>
    <script src="js/config.js"></script>
    <script src="js/database.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/contacts.js"></script>
    <script src="js/transactions.js"></script>
    <script src="js/app.js"></script>
</body>
</html>