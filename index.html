<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustChain - Build Trust Through Mutual Consent</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2E8B57">
    <meta name="description" content="Privacy-first digital tools for P2P financial relationships in Rural India. Build trust through mutual consent.">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>TrustChain</h1>
            </div>
            <div class="nav-links">
                <a href="#features" class="nav-link">Features</a>
                <a href="#how-it-works" class="nav-link">How It Works</a>
                <a href="#revenue" class="nav-link">Earn</a>
                <a href="#about" class="nav-link">About</a>
                <button class="btn btn-primary" onclick="goToApp()">Start Building Trust</button>
            </div>
            <button class="nav-toggle" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a href="#features" class="mobile-nav-link" onclick="toggleMobileMenu()">Features</a>
        <a href="#how-it-works" class="mobile-nav-link" onclick="toggleMobileMenu()">How It Works</a>
        <a href="#revenue" class="mobile-nav-link" onclick="toggleMobileMenu()">Earn</a>
        <a href="#about" class="mobile-nav-link" onclick="toggleMobileMenu()">About</a>
        <button class="btn btn-primary mobile-nav-btn" onclick="goToApp()">Start Building Trust</button>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        Build Trust Through<br>
                        <span class="hero-highlight">Mutual Consent</span>
                    </h1>
                    <p class="hero-description">
                        Create transparent P2P financial relationships in your community. 
                        Record agreements, build trust scores, and grow together - all while 
                        keeping your data 100% private on your own device.
                    </p>
                    <div class="hero-actions">
                        <button class="btn btn-primary btn-large" onclick="goToApp()">
                            ü§ù Start Building Trust
                        </button>
                        <button class="btn btn-secondary btn-large" onclick="scrollToFeatures()">
                            üìö Learn How It Works
                        </button>
                    </div>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number">100%</div>
                            <div class="stat-label">Private</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">‚Çπ10</div>
                            <div class="stat-label">Trust Reports</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">4-Level</div>
                            <div class="stat-label">Referral Earnings</div>
                        </div>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="trust-visual">
                        <div class="community-circle">
                            <div class="central-user">
                                <div class="user-avatar">üë§</div>
                                <div class="user-label">You</div>
                            </div>
                            <div class="connection connection-1">
                                <div class="connected-user">
                                    <div class="user-avatar">üë®‚Äçüåæ</div>
                                    <div class="user-label">Farmer</div>
                                </div>
                                <div class="trust-score">Trust: 85%</div>
                            </div>
                            <div class="connection connection-2">
                                <div class="connected-user">
                                    <div class="user-avatar">üë©‚Äçüíº</div>
                                    <div class="user-label">Shop Owner</div>
                                </div>
                                <div class="trust-score">Trust: 92%</div>
                            </div>
                            <div class="connection connection-3">
                                <div class="connected-user">
                                    <div class="user-avatar">üë®‚Äçüîß</div>
                                    <div class="user-label">Service Provider</div>
                                </div>
                                <div class="trust-score">Trust: 78%</div>
                            </div>
                        </div>
                        <div class="visual-caption">
                            Your Local Trust Network - Growing Together
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section">
        <div class="container">
            <div class="section-header">
                <h2>Designed for Rural India's Financial Relationships</h2>
                <p>Privacy-first tools that respect your data and build real trust</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Data Stays on Your Device</h3>
                    <p>All your financial agreements and trust data remain locally on your phone. We never see or store your sensitive information.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü§ù</div>
                    <h3>Mutual Consent Agreements</h3>
                    <p>Record P2P financial agreements with digital handshakes. Both parties must consent, ensuring transparency in every transaction.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Smart Trust Scoring</h3>
                    <p>Complex algorithms calculate trust scores based on payment behavior, settlement speed, and network diversity - all running locally.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Micro-Payment Reports</h3>
                    <p>Generate professional trust reports for just ‚Çπ10. Publish them for 30 days to showcase your reliability to the community.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üå±</div>
                    <h3>4-Level Referral Network</h3>
                    <p>Earn commissions through 4 levels of referrals. Grow your network and create income opportunities for your community.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Works Offline</h3>
                    <p>Built as a Progressive Web App, TrustChain works without internet and installs like a native app on any device.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works-section">
        <div class="container">
            <div class="section-header">
                <h2>Build Your Trust Network in 3 Steps</h2>
                <p>Simple, transparent, and designed for real relationships</p>
            </div>
            <div class="steps-container">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Join TrustChain</h3>
                        <p>Create your account with phone verification. Get your personal referral code to start building your network.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Record Agreements</h3>
                        <p>Add contacts and record financial agreements with mutual consent. Track settlements and build your trust history.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Grow & Earn</h3>
                        <p>Watch your trust score grow. Generate ‚Çπ10 reports, earn referral commissions, and become a trusted community member.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Revenue Model Section -->
    <section id="revenue" class="revenue-section">
        <div class="container">
            <div class="section-header">
                <h2>Earn While Building Trust</h2>
                <p>Transparent revenue sharing that benefits everyone</p>
            </div>
            <div class="revenue-grid">
                <div class="revenue-card">
                    <div class="revenue-icon">üìÑ</div>
                    <h3>Trust Reports</h3>
                    <div class="revenue-amount">‚Çπ10 per report</div>
                    <p>Generate professional trust verification reports for your network</p>
                </div>
                <div class="revenue-card">
                    <div class="revenue-icon">üì¢</div>
                    <h3>Report Publishing</h3>
                    <div class="revenue-amount">‚Çπ10 per 30 days</div>
                    <p>Publish your trust score publicly to attract new business relationships</p>
                </div>
                <div class="revenue-card">
                    <div class="revenue-icon">üë•</div>
                    <h3>Referral Commissions</h3>
                    <div class="revenue-amount">4-Level Earnings</div>
                    <p>Earn commissions when your referrals and their networks use TrustChain</p>
                </div>
            </div>
            
            <div class="commission-breakdown">
                <h3>Commission Structure (Per ‚Çπ10 Payment)</h3>
                <div class="commission-levels">
                    <div class="commission-level">
                        <div class="level-number">1</div>
                        <div class="level-info">
                            <div class="level-title">Direct Referral</div>
                            <div class="level-amount">‚Çπ1.60</div>
                        </div>
                    </div>
                    <div class="commission-level">
                        <div class="level-number">2</div>
                        <div class="level-info">
                            <div class="level-title">Second Level</div>
                            <div class="level-amount">‚Çπ0.80</div>
                        </div>
                    </div>
                    <div class="commission-level">
                        <div class="level-number">3</div>
                        <div class="level-info">
                            <div class="level-title">Third Level</div>
                            <div class="level-amount">‚Çπ0.40</div>
                        </div>
                    </div>
                    <div class="commission-level">
                        <div class="level-number">4</div>
                        <div class="level-info">
                            <div class="level-title">Fourth Level</div>
                            <div class="level-amount">‚Çπ0.20</div>
                        </div>
                    </div>
                    <div class="commission-level platform">
                        <div class="level-number">üè¢</div>
                        <div class="level-info">
                            <div class="level-title">Platform</div>
                            <div class="level-amount">‚Çπ7.00</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials-section">
        <div class="container">
            <div class="section-header">
                <h2>Trusted by Rural Communities</h2>
                <p>See how TrustChain is building financial trust across India</p>
            </div>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "As a small shop owner, TrustChain helped me build trust with new customers. The ‚Çπ10 reports are worth every rupee for the business they bring!"
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">üë®‚Äçüíº</div>
                        <div class="author-info">
                            <div class="author-name">Rajesh Kumar</div>
                            <div class="author-role">Kirana Store Owner, Bihar</div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "Finally, a system that understands our village economy. Recording crop sale agreements with mutual consent has eliminated so many disputes."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">üë®‚Äçüåæ</div>
                        <div class="author-info">
                            <div class="author-name">Suresh Patel</div>
                            <div class="author-role">Farmer, Maharashtra</div>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        "The 4-level referral system helped our entire village join. We're not just using an app - we're building a trusted financial network together."
                    </div>
                    <div class="testimonial-author">
                        <div class="author-avatar">üë©‚Äçüíº</div>
                        <div class="author-info">
                            <div class="author-name">Anita Sharma</div>
                            <div class="author-role">Anganwadi Worker, MP</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>Our Mission: Trust Through Technology</h2>
                    <p>
                        TrustChain was born from a simple belief: financial relationships in rural India 
                        should be built on transparency and mutual consent, not just transactions. 
                    </p>
                    <p>
                        We combine privacy-first design with complex trust algorithms to create 
                        digital tools that respect your data while helping you build lasting financial 
                        relationships in your community.
                    </p>
                    <div class="about-features">
                        <div class="about-feature">
                            <span class="feature-check">‚úÖ</span>
                            <span>100% data privacy - your information stays on your device</span>
                        </div>
                        <div class="about-feature">
                            <span class="feature-check">‚úÖ</span>
                            <span>Designed specifically for Rural India's needs</span>
                        </div>
                        <div class="about-feature">
                            <span class="feature-check">‚úÖ</span>
                            <span>Transparent revenue model with community benefits</span>
                        </div>
                    </div>
                </div>
                <div class="about-visual">
                    <div class="privacy-badge">
                        <div class="badge-icon">üîí</div>
                        <div class="badge-text">
                            <div class="badge-title">Privacy First</div>
                            <div class="badge-subtitle">Your Data Never Leaves Your Phone</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA Section -->
    <section class="final-cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Build Trust in Your Community?</h2>
                <p>Join thousands of rural Indians creating transparent financial relationships</p>
                <div class="cta-actions">
                    <button class="btn btn-primary btn-large" onclick="goToApp()">
                        ü§ù Start Your Trust Network
                    </button>
                    <button class="btn btn-secondary btn-large" onclick="showDemo()">
                        üì± See How It Works
                    </button>
                </div>
                <div class="cta-features">
                    <span class="cta-feature">‚úÖ One account per device</span>
                    <span class="cta-feature">‚úÖ 100% data privacy</span>
                    <span class="cta-feature">‚úÖ Earn while building trust</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>TrustChain</h3>
                    <p>Building trust through mutual consent in P2P financial relationships for Rural India.</p>
                    <div class="social-links">
                        <a href="#" class="social-link">üìò</a>
                        <a href="#" class="social-link">üê¶</a>
                        <a href="#" class="social-link">üì∑</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Platform</h4>
                    <a href="#features" class="footer-link">Features</a>
                    <a href="#how-it-works" class="footer-link">How It Works</a>
                    <a href="#revenue" class="footer-link">Earn Money</a>
                    <a href="#about" class="footer-link">Privacy</a>
                </div>
                <div class="footer-section">
                    <h4>Community</h4>
                    <a href="#" class="footer-link">Success Stories</a>
                    <a href="#" class="footer-link">Referral Program</a>
                    <a href="#" class="footer-link">Trust Guidelines</a>
                    <a href="#" class="footer-link">Support</a>
                </div>
                <div class="footer-section">
                    <h4>Legal</h4>
                    <a href="#" class="footer-link">Privacy Policy</a>
                    <a href="#" class="footer-link">Terms of Service</a>
                    <a href="#" class="footer-link">Data Protection</a>
                    <a href="#" class="footer-link">Contact</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 TrustChain. All rights reserved.</p>
                <p>Made with ‚ù§Ô∏è for Rural India's financial empowerment</p>
            </div>
        </div>
    </footer>

    <!-- Demo Modal -->
    <div id="demoModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>See TrustChain in Action</h3>
                <button class="modal-close" onclick="closeDemo()">√ó</button>
            </div>
            <div class="modal-body">
                <p>Experience how TrustChain builds financial trust in communities:</p>
                <div class="demo-features">
                    <div class="demo-feature">ü§ù Mutual consent agreements</div>
                    <div class="demo-feature">üìä Local trust score calculations</div>
                    <div class="demo-feature">üí∞ ‚Çπ10 professional trust reports</div>
                    <div class="demo-feature">üë• 4-level referral commissions</div>
                    <div class="demo-feature">üîí 100% data privacy on device</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="goToApp()">Start Building Trust</button>
                <button class="btn btn-secondary" onclick="closeDemo()">Learn More</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/database.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
    
    <script>
        // Check if user is already logged in
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üåê TrustChain Landing page loaded');
            
            try {
                // Wait for auth system to initialize
                if (window.authManager) {
                    await new Promise(resolve => {
                        const checkReady = setInterval(() => {
                            if (window.authManager.isInitialized) {
                                clearInterval(checkReady);
                                resolve();
                            }
                        }, 100);
                    });
                    
                    // Check if user is authenticated
                    if (window.authManager.isAuthenticated()) {
                        console.log('‚úÖ User is authenticated, showing dashboard shortcut');
                        updateAuthState(true);
                    } else {
                        updateAuthState(false);
                    }
                }
            } catch (error) {
                console.log('‚ÑπÔ∏è Auth check not available, showing standard landing page');
            }
            
            // Add scroll animations
            setupScrollAnimations();
        });

        // Navigation functions
        function goToApp() {
            // Check if user is already authenticated
            if (window.authManager && window.authManager.isAuthenticated()) {
                window.location.href = 'dashboard.html';
            } else {
                window.location.href = 'login.html';
            }
        }

        function scrollToFeatures() {
            document.getElementById('features').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.style.display = mobileMenu.style.display === 'flex' ? 'none' : 'flex';
        }

        function showDemo() {
            document.getElementById('demoModal').style.display = 'flex';
        }

        function closeDemo() {
            document.getElementById('demoModal').style.display = 'none';
        }

        function updateAuthState(isAuthenticated) {
            const authButtons = document.querySelectorAll('.btn-primary');
            authButtons.forEach(button => {
                if (isAuthenticated) {
                    button.textContent = 'üè† Go to Dashboard';
                    button.onclick = function() { window.location.href = 'dashboard.html'; };
                } else {
                    button.textContent = 'ü§ù Start Building Trust';
                    button.onclick = function() { window.location.href = 'login.html'; };
                }
            });
        }

        function setupScrollAnimations() {
            // Simple fade-in animation for elements
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all feature cards and steps
            document.querySelectorAll('.feature-card, .step, .testimonial-card, .revenue-card').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const navToggle = document.querySelector('.nav-toggle');
            
            if (mobileMenu.style.display === 'flex' && 
                !mobileMenu.contains(event.target) && 
                !navToggle.contains(event.target)) {
                mobileMenu.style.display = 'none';
            }
        });

        // Handle responsive behavior
        window.addEventListener('resize', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            if (window.innerWidth > 768 && mobileMenu.style.display === 'flex') {
                mobileMenu.style.display = 'none';
            }
        });

        // Add some interactive elements
        document.querySelectorAll('.feature-card, .testimonial-card, .revenue-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                const swPaths = [
                    '/Transparent-Transactions/sw.js',
                    './sw.js',
                    'sw.js',
                    '/sw.js'
                ];
                
                let registered = false;
                
                swPaths.forEach(swUrl => {
                    if (!registered) {
                        navigator.serviceWorker.register(swUrl, {
                            scope: '/Transparent-Transactions/'
                        })
                        .then(function(registration) {
                            console.log('‚úÖ TrustChain ServiceWorker registered');
                            registered = true;
                        })
                        .catch(function(error) {
                            console.log('‚ùå ServiceWorker registration failed for', swUrl);
                        });
                    }
                });
            });
        }

        // Animate trust network visualization
        function animateTrustNetwork() {
            const connections = document.querySelectorAll('.connection');
            connections.forEach((connection, index) => {
                setTimeout(() => {
                    connection.style.opacity = '1';
                    connection.style.transform = 'scale(1)';
                }, index * 300);
            });
        }

        // Initialize trust network animation
        setTimeout(animateTrustNetwork, 1000);
    </script>

    <style>
        /* Trust Network Visualization Styles */
        .trust-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .community-circle {
            position: relative;
            width: 300px;
            height: 300px;
            border: 2px dashed #2E8B57;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(46, 139, 87, 0.1);
        }

        .central-user {
            text-align: center;
            z-index: 2;
        }

        .user-avatar {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .user-label {
            font-size: 0.9rem;
            color: #333;
            font-weight: 500;
        }

        .connection {
            position: absolute;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.5s ease;
        }

        .connection-1 {
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
        }

        .connection-2 {
            bottom: 20px;
            right: 20px;
        }

        .connection-3 {
            bottom: 20px;
            left: 20px;
        }

        .connected-user {
            text-align: center;
            background: white;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
        }

        .trust-score {
            font-size: 0.8rem;
            color: #2E8B57;
            font-weight: 600;
            margin-top: 5px;
        }

        .visual-caption {
            margin-top: 20px;
            text-align: center;
            color: #666;
            font-style: italic;
        }

        /* Revenue Section Styles */
        .revenue-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0;
        }

        .revenue-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .revenue-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .revenue-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .revenue-amount {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 10px 0;
            color: #FFD700;
        }

        .commission-breakdown {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .commission-levels {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .commission-level {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .commission-level.platform {
            background: rgba(255, 255, 255, 0.2);
        }

        .level-number {
            width: 40px;
            height: 40px;
            background: #2E8B57;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .level-info {
            flex: 1;
        }

        .level-title {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .level-amount {
            font-weight: bold;
            color: #FFD700;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .community-circle {
                width: 250px;
                height: 250px;
            }
            
            .revenue-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>
