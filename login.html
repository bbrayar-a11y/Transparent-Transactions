<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Transparent Transactions</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Transparent Transactions</h1>
            <p class="tagline">Create Your Account</p>
        </header>

        <main>
            <div class="auth-container">
                <!-- Registration Form Section -->
                <section id="registrationSection" class="auth-section active">
                    <h3>Complete Registration</h3>
                    
                    <div class="form-group">
                        <input type="text" id="fullName" placeholder="Full Name" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <input type="tel" id="phoneNumber" placeholder="Phone Number (10 digits)" class="form-input" maxlength="10">
                    </div>
                    
                    <div class="form-group">
                        <input type="email" id="email" placeholder="Email Address" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <input type="password" id="userPassword" placeholder="Create Password" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <input type="password" id="confirmPassword" placeholder="Confirm Password" class="form-input">
                    </div>
                    
                    <button onclick="completeRegistration()" class="btn btn-primary">Create Account</button>
                    <div id="registrationMessage" class="message"></div>
                </section>

                <div class="auth-links">
                    <p><a href="index.html">← Back to Home</a></p>
                </div>
            </div>
        </main>
    </div>

    <script>
        function completeRegistration() {
            const fullName = document.getElementById('fullName').value;
            const phoneNumber = document.getElementById('phoneNumber').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('userPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const message = document.getElementById('registrationMessage');
            
            // Validation
            if (!fullName || !phoneNumber || !email || !password) {
                message.textContent = 'Please fill in all fields';
                message.className = 'message error';
                return;
            }
            
            if (password !== confirmPassword) {
                message.textContent = 'Passwords do not match';
                message.className = 'message error';
                return;
            }
            
            if (password.length < 6) {
                message.textContent = 'Password must be at least 6 characters';
                message.className = 'message error';
                return;
            }
            
            // Validate phone number
            const cleaned = phoneNumber.replace(/\D/g, '');
            if (cleaned.length !== 10 || !/^[6-9]\d{9}$/.test(cleaned)) {
                message.textContent = 'Please enter a valid 10-digit Indian mobile number';
                message.className = 'message error';
                return;
            }
            
            // Show processing message
            message.textContent = 'Creating your account...';
            message.className = 'message info';
            
            // Create user session (simplified version)
            const userData = {
                fullName,
                email,
                phone: cleaned,
                password: btoa(password), // Simple encoding
                isAuthenticated: true,
                loginTime: new Date().toISOString(),
                lastActive: new Date().toISOString(),
                registrationDate: new Date().toISOString(),
                profile: {
                    fullName,
                    phone: cleaned,
                    email
                }
            };
            
            // Store in localStorage
            localStorage.setItem('currentUser', JSON.stringify(userData));
            
            message.textContent = '✅ Account created successfully! Redirecting...';
            message.className = 'message success';
            
            // Redirect to dashboard
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 2000);
        }

        // Phone number validation
        document.getElementById('phoneNumber')?.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 10) value = value.slice(0, 10);
            e.target.value = value;
        });

        // Enter key support
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                completeRegistration();
            }
        });
    </script>
</body>
</html>
